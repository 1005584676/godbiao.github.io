<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="target-densitydpi=device-dpi,width=device-width,initial-scale=1,user-scalable=no" />

    <title>讯飞输入法</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #guide {
            display: none;
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);

        }

        .guideimgdiv {
            width: 90%;
            float: right;
            padding-right: 10%;
            padding-top: 5%;
        }

        .guideimg {
            float: right;
            width: 100%;

        }

    </style>


</head>

<body>
    <div id="guide">
        <div class="guideimgdiv"><img src="guide.png" alt="微信中引导" class="guideimg"></div>
    </div>
    <div id="content">
        <div class="logo">我是LOGO</div>
        <div id="btn">立即下载</div>
    </div>
    <script>
        //判断是否在手机里打开
        function isMobile() {
            var ua = navigator.userAgent;
            var ipad = ua.match(/(iPad).*OS\s([\d_]+)/),
                isIphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/),
                isAndroid = ua.match(/(Android)\s+([\d.]+)/),
                ismobile = isIphone || isAndroid;

            return ismobile;
        }

        //判断是否在iOS里打开
        function isiOS() {
            var ua = navigator.userAgent;
            var ipad = ua.match(/(iPad).*OS\s([\d_]+)/),
                isIphone = !ipad && ua.match(/(iPhone\sOS)\s([\d_]+)/),
                isAndroid = ua.match(/(Android)\s+([\d.]+)/),
                ismobile = isIphone || ipad;

            return ismobile;
        }

        //判断是否在微信里打开
        function isWeiXin() {
            var ua = window.navigator.userAgent.toLowerCase();
            if (ua.match(/MicroMessenger/i) == 'micromessenger') {
                return true;

            } else {
                return false;
            }
        }

        //判断是否在QQ里打开 
        function isQQ() {
            var ua = window.navigator.userAgent.toLowerCase();
            if (ua.match(/QQ/i) == 'qq') {
                return true;
            } else {
                return false;
            }
        }

        //判断是否在微博里打开
        function isWeiBo() {
            var ua = window.navigator.userAgent.toLowerCase();
            if (ua.match(/WeiBo/i) == 'weibo') {
                return true;
            } else {
                return false;
            }
        }

        function getUrlparam(name) {
            var url = location.search;
            var theRequest = new Object();
            if (url.indexOf("?") != -1) {
                var str = url.substr(1);
                strs = str.split("&");
                for (var i = 0; i < strs.length; i++) {
                    theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
                }
            }
            return theRequest[name];
        }

        var apk = getUrlparam('apk');
        if (isWeiXin()) {
            document.getElementById("guide").style.display = "block";
        } else if (isiOS()) {
            window.location.href = "https://itunes.apple.com/cn/app/id917236063";
        } else {
            window.location.href = apk;
        }

    </script>
</body>

</html>
